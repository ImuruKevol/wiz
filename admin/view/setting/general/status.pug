include wiz/admin/setting/navi

mixin content()
    .main-panel.container.p-0(style="height: calc(100% - 112px);")
        div(data-split-pane data-split-pane-properties="properties.root")
            div(data-split-pane-component data-width="250px")
                +setting_nav

            div(data-split-pane-divider data-width="1px")
            
            div(data-split-pane-component style="height: 100%; overflow: hidden;")
                .panel-editor(style="height: 100%; overflow: auto;")
                    .p-4.pr-6.pl-6
                        .page-header
                            .row.align-items-center
                                .col-auto
                                    h2.page-title Version Info.

                        .info-form.row.first-child
                            .col-md-4 
                                h4 SEASON WIZ
                            .col-md-8.text-center
                                a(href="https://github.com/season-framework/season-flask-wiz" target="_blank")
                                    h4= wiz.package.version
                                        - if isupdate
                                            span.text-muted.ml-2
                                                i.fas.fa-arrow-circle-right
                                            span.text-muted.ml-2 {$ latest_version $}

                        .info-form.row
                            .col-md-4 
                                h4 SEASON Flask Framework
                            .col-md-8.text-center
                                a(href="https://github.com/season-framework/season-flask" target="_blank")
                                    h4 SEASON_VERSION

                        .info-form.row
                            .col-md-4 
                                h4 Python
                            .col-md-8.text-center
                                h4= PYTHON_VERSION

                        .info-form.row
                            .col-md-4 
                                h4 Deploy Version
                            .col-md-8.text-center
                                h4= wiz.get(version=wiz.deploy_version(), fields="version_name")['version_name']
                                    span.text-muted.ml-2 ({$ wiz.deploy_version() $})
                                
                        .page-header.mt-5
                            .row.align-items-center
                                .col-auto
                                    h2.page-title General Configuration

                        .info-form.row.first-child
                            .col-md-4 
                                h4.mb-0 Mode
                                span.text-muted In development mode, display the master version of interface.
                            .col-md-8.pt-2
                                - if is_dev
                                    a.btn.btn-outline-dark.btn-block(href="?dev=false") Development
                                - else
                                    a.btn.btn-block.btn-outline-dark(href="?dev=true") Production

                        .info-form.row
                            .col-md-4
                                h4.mb-0 Build
                                span.text-muted Build Wiz Interfaces for Production
                            .col-md-8.pt-2
                                button.btn.btn-block.btn-outline-dark(ng-click="event.build_wiz()") Build WIZ Interfaces

    .bg-dark.text-center(ng-if="!loaded" style="width: 100%; height: 100%; position: fixed; top: 0; left: 0; z-index: 99999; padding-top: 40vh;")
        .spinner-grow.text-white(style="width: 60px; height: 60px;")
                               
include wiz/theme/layout
+layout
